graph_template:

  Научиться применять палитру с непрерывными цветами
  Сделать больше палитр, чтобы они коннектились к разным стилям
  Обновить plot, чтобы он парсил новые поля из экселя (длинная легенда, поворот подписей, рецессии и т.д.)

do_plot:
  
  запарывается при автовычислении границ на графиках, где вообще нет данных (Ошибка в seq.default(time_start + timetony_start, time_end - timetony_end +  :неправильный знак в 'by' аргумент)
  прописать границы и time для дневных графиков, дописать функции построения!!
  дополнить функцией lag синтаксис графика, чтобы не создавать новые показатели в базе каждый раз
  в пирах сделать опцию с формулой, которая просто арифметическое условие
  сделать автоматическое определение числа специальных групп пиров и заменить число строк в коде на вычисляемое
  сделать цветовую палитру, где цвета названы по функции - типа main_country, background, scale_1 и т.д.
  сделать кастомную тему, чтобы реально можно было выбрать какую-либо другую
  что делать с налезанием подписей годов друг на друга (пример: debttorev) - вычислимые размеры?  вычислимые в зависимости от длины периода подписи на оси х для динамических графиков (labfreq)?
  почему меняются местами подписи в structure dynamic, если есть не все данные за последний год (пример - BOP для РФ в 2022, точно есть??)
  взять идеи по типам графиков с ourworldindata
  
  scatter_dynamic: сделать типа точки - это моменты времени, страна фикс
  
  scatter_country_comparison:
  
  scatter_before_after: сделать новый - два года/периода одного показателя
  
  bar_dynamic: 

  bar_country_comparison: когда одна шкала y, опционально добавить подписи значений у верха столбиков?; когда all, подписи на оси сделать черными только для страны и пиров
  
  bar_year_comparison: расширить time_fix на q и y; добавить опцию с двумя шкалами (или тип графика), неправильно показывает значения иногда (какая-то сортировка? индикативы блоков Россия)
  
  structure_dynamic: 
  
  structure_country_comparison: упорядочение по убыванию первой компоненты не сработает из-за нормализации? - три типа и три упорядочения
    
  lines_indicator_comparison: подписи не должны наезжать на линии - заменить на легенду?
  
  lines_country_comparison: подписи не должны обрезаться полями
  
  density_fix: расширить для всех частот и добавить вертикальные линии для целевой страны и пиров (с подписями)
  
  distribution_dynamic: проверять когда вернут ggfan на CRAN
  
  distribution_year_comparison: сделать тоже свечами
  
  distribution_indicator_comparison: сделать вертикально, как свечи для разных блоков с пирами
  
  triangle: сделать по образцу из туториала  Rilostat с данныи Chinn-Ito

knit_report:
  
  перенос кода из plot_standard
  раскомменчиваю show_title <- 0  после загрузки graphdata
  и ее сортировку по темам + заголовок темы в цикле построения графика
  закомменчиваю country_name в начале кода - он забирается из params

  как за-knit-тить
    внешние графики
    текст перед графиком и после графика
    структура рейтинга
    прогнозы
    модификаторы
    расшифровка названий стран в отдельной таблице
  