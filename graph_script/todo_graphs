!!!дебажить заново!!! в plot отключен ggfan, как заменить, либо установить??

graph_template:

  Научиться применять палитру с непрерывными цветами
  Сделать больше палитр, чтобы они коннектились к разным стилям
  Обновить plot, чтобы он парсил новые поля из экселя (длинная легенда, поворот полписей, рецессии и т.д.)

do_plot:
  
  при автозаполнении границ правильных ли я пиров беру (или только дефолтных?)
  сделать автоматическую замену формата временных границ, когда они заполнены
  для всех полей плана сделать умолчания, чтобы не было ошибок от пустоты?
  дополнить функцией lag синтаксис графика, чтобы не создавать новые показатели в базе каждый раз
  на всех осях с фиксацией времени сделать такую подпись
  в пирах сделать опцию с формулой, которая просто арифметическое условие
  сделать автоматическое определение числа специальных групп пиров и заменить число строк в коде на вычисляемое
  логарифмы поменять на десятичные?
  доделать checkPeers и checkUnique, какие еще checks сделать, чтобы попытаться обработать заранее все ошибки построения?
  сделать удобочитаемый текстовый error_report
  прописать границы и time для дневных графиков, дописать функции построения
  сделать кастомную тему
  взять идеи по типам графиков с ourworldindata
  что делать с налезанием подписей годов друг на друга (пример: debttorev) - вычислимые размеры?
  почему меняются местами подписи в structure dynamic, если есть не все данные за последний год (пример - BOP для РФ в 2022)
  почему WGI меняются местами в bar_year_comparison
  вычислимые в зависимости от длины периода подписи на оси х для динамических графиков (labfreq)?
  
  scatter_country_comparison: добавить произвольные годы произвольных показателей или два года одного показателя (новый ип графика наверное)
  
  scatter_dynamic: сделать типа точки - это моменты времени, страна фикс
  
  bar_country_comparison: когда одна шкала y, опционально добавить подписи значений у верха столбиков?; когда all, подписи на оси сделать черными только для страны и пиров; добавить указание на time_fix_label на оси
  
  bar_year_comparison: расширить time_fix на q и y; добавить опцию с двумя шкалами (или тип графика), неправильно показывает значения иногда (какая-то сортировка? индикативы блоков Россия)
  
  bar_dynamic: 
  
  lines_country_comparison: 
  
  lines_indicator_comparison: подписи не должны наезжать на линии - заменить на легенду?

  distribution_fix: сделать горизонтальную непараметричекую плотность
  
  distribution_indicator_comparison: сделать вертикально, как свечи для разных блоков с пирами
  
  distribution_year_comparison: сделать тоже саечами
  
  distribution_dynamic: починить fanplot
  
  structure_country_comparison: упорядочение по убыванию первой компоненты не сработает из-за нормализации? - три типа и три упорядочения
  
  structure_dynamic: 
  
  triangle: сделать по образцу из туториала  Rilostat с данныи Chinn-Ito

knit_report:
  
  перенос кода из plot_standard
  раскомменчиваю show_title <- 0  после загрузки graphdata
  и ее сортировку по темам + заголовок темы в цикле построения графика
  закомменчиваю country_name в начале кода - он забирается из params

  как за-knit-тить
    внешние графики
    текст перед графиком и после графика
    структура рейтинга
    прогнозы
    модификаторы
    расшифровка названий стран в отдельной таблице
  